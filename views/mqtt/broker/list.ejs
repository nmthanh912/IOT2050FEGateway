<% layout('../../layout/index') %>
<% block('css', `

  <!-- DataTables -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css" />

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.11.1.js"></script>

`) %>

<!-- Content Header (Page header) -->
<div class="container">
<section class="content-header">
  <h1 style="font-weight: 600;">
    MQTT
  </h1>
  <small>CLIENT SIDE</small>

  <ol class="breadcrumb">
    <li><a href="/"><i class="fas fa-home"></i> Home</a></li>
    <li class="active">Broker</li>
  </ol>
</section>

<!-- Main content -->
<section class="content container-fluid">
	
  <div>
    <div class="box-header" style="text-align: center; margin-bottom: 15px">
      <h3 class="box-title" style="font-size: 25px">MQTT Connection</h3>
    </div>
    <div class="panel-heading">
      <a class="btn" href="/mqtt/broker/add" style="background-color: rgb(60 141 188); color: white; margin-left: -14px;">Add broker</a>
    </div>
    <!-- /.box-header -->
    <div >
      <div >
        <table class="table table-bordered table-striped">
          <thead style="background-color: #3c8dbc; color: white; ">
            <tr>
              <th>Name</th>
              <th>Broker Address</th>
              <th>Port</th>
              <th>Username</th>
              <th>Password</th>
              <th>Topic</th>
              <th colspan="2" style="text-align: center;">Action</th>
            </tr>
          </thead>
          <tbody>
            <% brokers.forEach(function(val) { %>
              <tr>
                <td style="line-height: 2.5"><%= val.name %></td>
                <td style="line-height: 2.5"><%= val.ip %></td>
                <td style="line-height: 2.5"><%= val.port %></td>
                <td style="line-height: 2.5"><%= val.username %></td>
                <td style="line-height: 2.5"><%= val.password %></td>
                <td style="line-height: 2.5"><%= val.topic %></td>
                <td class="text-center">
                  <a class='btn' href="/mqtt/broker/edit/<%= val.id %>">
                    <span style="color: rgb(60 141 188);">
                      <i class="fas fa-edit" style="margin-right: 3px;"></i>
                      Edit
                    </span>
                  </a>
                  <a href="/mqtt/broker/delete/<%= val.id %>" class="btn">
                    <span style="color: rgb(246 18 18);">
                      <i class="fas fa-trash-alt" style="margin-right: 3px;"></i>
                      Delete
                    </span>
                  </a>
                </td>
              </tr>
            <% }) %>
          </tbody>
          <!-- <tr>
            <td>192.168.0.1</td>
            <td>1883</td>
          </tr> -->
        </table>
      </div>
    </div>
  </div>
</div>
</section>

<!-- <script src="bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
 <script src="bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>

   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

 -->

<% block('script', `

  
  

`) -%>
